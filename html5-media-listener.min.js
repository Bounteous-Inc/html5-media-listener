!function(a,b){"use strict";function c(){function b(a){var b,c,d,e=a.target;for(c in t)if(e.matches(c))for(b in t[c])for(d in t[c][b])t[c][b][d].forEach(function(a){w[a[v]]={}})}function c(c,d,e){e[v]||(e[v]=u,w[u]={},u++),d.events&&k(c,d.events,e),d.percentages&&m(c,d.percentages,e),d.seconds&&n(c,d.seconds,e),x._clearCaches||(a.addEventListener("durationchange",b,!0),x._clearCaches=b)}function e(a,b){return function(c,d,e){"object"==typeof c&&"function"==typeof d&&(e=d,d=c,c="*"),"*"!==c.slice(-1)&&(c+=","+c+" *"),b&&(t[c]=t[c]||{percentage:{},seconds:{},events:{}});var f=t[c];f&&a(f,d,e)}}function g(a,b,c){b.events&&h(a,b.events,c),b.percentages&&i(a,b.percentages,c),b.seconds&&j(a,b.seconds,c),x={}}function h(a,b,c){var d,e,f,g=a.events;for(f=0;f<b.length;f++)e=b[f],(d=g[e]?g[e].indexOf(c):-1)>-1&&g[e].splice(d,1)}function i(a,b,c){var d,e,f,g=a.percentages,h=(b.each||[]).concat(l(b.every||[]));for(f=0;f<h.length;f++)e=h[f],(d=g[e]?g[e].indexOf(c):-1)>-1&&g[e].splice(d,1)}function j(a,b,c){var d,e,f,g=a.seconds;for(f=0;f<b.each.length;f++)e=b.each[f],(d=g[e]?g[e].indexOf(c):-1)>-1&&g[e].splice(d,1);for(f=0;f<b.every.length;f++)e=b.every[f],(d=g[e]?g[e].indexOf(c):-1)>-1&&g[e].splice(d,1)}function k(b,c,d){c.forEach(function(b){var c;x[b]||(c=p(q),a.addEventListener(b,c,!0),x[b]=c)});var e,f,g=b.events;for(f=0;f<c.length;f++)e=c[f],g[e]=g[e]||[],-1===g[e].indexOf(d)&&g[e].push(d)}function l(a){var b,c,d,e={};for(c=0;c<a.length;c++)for(b=100/a[c],d=1;d<=b;d++)e[a[c]*d]=!0;return Object.keys(e).map(Number).sort(function(a,b){return a>b?1:b>a?-1:0})}function m(b,c,d){var e;x._timeupdate||(e=p(r),a.addEventListener("timeupdate",e,!0),x._timeupdate=e);var f,g,h=(c.each||[]).concat(l(c.every||[])),i=b.percentage;for(g=0;g<h.length;g++)f=h[g],i[f]=i[f]||[],-1===i[f].indexOf(d)&&i[f].push(d)}function n(b,c,d){var e;x._timeupdate||(e=p(r),a.addEventListener("timeupdate",e,!0),x._timeupdate=e);var f,g,h,i,j,k=b.seconds;if(c.each&&c.each.length)for(i=0;i<c.each.length;i++)h=c.each[i],k[h]=k[h]||[],-1===(g=k[h].indexOf(d))&&k[h].push(d);if(c.every&&c.every.length)for(i=0;i<c.every.length;i++){for(h=c.every[i],k[h]=k[h]||[],f=o(h,h,k,d),f.original=d,j=0;j<k[h].length;j++)if(k[h][j].original===d){g=j;break}-1===g&&k[h].push(f)}}function o(a,b,c,e){return function(g){var h,i,j,k=g.player,l=[a],m=k.currentTime;if(m>a+b)for(h=Math.floor((m-a)/a),j=1;j<h+1;j++)l.push(j*b+a);l.forEach(function(a){f(function(){e.call(k,{player:k,label:d(a),seconds:a})})}),k.ended||(i=(h+1)*b+a,c[i]=c[i]||[],c[i].push(o(i,b,c)))}}function p(a){return function(b){b.isTrusted&&a.call(b.target,b)}}function q(a){var b,c,d=a.target,e=a.type,f=Math.ceil(d.currentTime);if("pause"!==e||!d.ended)for(b in t)d.matches(b)&&(c=t[b].events,c[e]&&c[e].length&&c[e].forEach(function(a){a({player:d,label:e,seconds:f})}))}function r(a){var b,c,e,f=a.target,g=Math.ceil(f.currentTime),h=Math.ceil(g/f.duration*100);for(b in t)if(f.matches(b)){if(c=t[b],c.percentage)for(e in c.percentage)Number(e)<=h&&c.percentage[e].forEach(function(a){var b=a[v]||a.original[v],c=w[b];c[e]||(a.call(f,{player:f,label:e+"%",seconds:Math.ceil(f.duration*e/100)}),c[e]=!0)});if(c.seconds)for(e in c.seconds)Number(e)<=g&&c.seconds[e].forEach(function(a){var b=a[v]||a.original[v],c=w[b];c[e]||(a({player:f,label:d(Number(e)),seconds:Number(e)}),c[e]=!0)})}}function s(){var b,c;for(b in x)a.removeEventListener(b,x[b],!0);a.removeEventListener("timingupdate",x._timeupdate,!0);for(c in t)delete t[c]}var t={},u=1,v="__html5MediaListenerHandlerId__",w={},x={};return{on:e(c,!0),off:e(g),destroy:s,_translateSeconds:d,_calcEveryPercentage:l}}function d(a){var b=Math.floor(a/3600),c=Math.floor((a-3600*b)/60);return[b,c,a-3600*b-60*c].map(function(a){return 1===(a+"").length?"0"+a:a+""}).join(":")}function e(){b.Html5MediaListener=function(){return{on:g,destroy:g,off:g}}}function f(a){return setTimeout(a,0)}function g(){}if(b.navigator.userAgent.match(/MSIE [678]/gi))return e();b.Html5MediaListener=c}(document,window);
/*
 * v1.0.0
 * Created by the Google Analytics consultants at http://www.lunametrics.com/
 * Written by @notdanwilkerson
 * Documentation: https://github.com/lunametrics/html5-media-listener/
 * Licensed under the MIT License
 */